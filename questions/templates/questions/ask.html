{% extends 'questions/base.html' %}
{% load i18n %}
{% load static %}
{% block extrahead %}
<link rel="stylesheet" href="{% static 'wmd/wmd.css' %}">
<link rel="stylesheet" href="{% static 'highlightjs/themes/default.css' %}">

<script src="{% static 'wmd/showdown.js' %}"></script>
<script type="text/javascript" src="{% static 'wmd/wmd.js' %}"></script>
<!--highlight js-->
<script type="text/javascript" src="{% static 'highlightjs/highlight.pack.js' %}"></script>

{% endblock %}

{% block grid8 %}

<div class="">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="{% url 'questions' %}">Questions</a></li>
      <li class="breadcrumb-item active" aria-current="page">Ask Question</li>
    </ol>
  </nav>
  
  <form action="{% url 'ask' %}" method="post" role="form">
    {% csrf_token %}
    {% for field in form.visible_fields %}
      <div class="form-group{% if field.errors %} has-error{% endif %}">
        <label for="{{ field.label }}" class="col-sm-2 control-label">{{ field.label }}</label>
        <div class="col-sm-10">
          {% if field.label == 'Description' %}
            <!-- {% include 'markdown_editor.html' with textarea='id_description' %} -->
            <div id="wmd-editor" class="wmd-panel">
              <div id="wmd-button-bar" class="d-none d-sm-block"></div>
              <textarea name="description" id="wmd-input" class="form-control" required=""></textarea>   
            </div><br>
            <div id="wmd-preview" class="wmd-panel" style="border:1px dotted black; padding:5px;"></div>
          {% else %}
          {{ field }}
          {% endif %}

          {% if field.help_text %}
            <span class="help-block">{{ field.help_text }}</span>
          {% endif %}
          {% for error in field.errors %}
            <label class="control-label">{{ error }}</label>
          {% endfor %}
        </div>
      </div>
    {% endfor %}
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" class="btn btn-primary">Post Your Question</button>
        <a href="{% url 'questions' %}" class="btn btn-default">Cancel</a>
      </div>
    </div>
  </form>
</div>
{% endblock %}
